<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <nav class="navbar bg-light">
        <div class="container">
          <a class="navbar-brand" href="index.html">
            <img src="pictures/mosquee.png" alt="Bootstrap" width="70" height="60">
            Prayer Times
          </a>
         <div class="d-flex" >
            <p id = "date" style="font-weight: 300;"> الخميس 7 ماي 2022</p>
         </div>
         
        </div>
    </nav>

    <div id="ville">
        <h2  style="font-weight: 700;"> <span id="villeNow">الدار البيضاء</span><img src="pictures/actuel.png" alt="ville actuel" width="40" height="40"></h2>
        <div style="padding-top: 5%;">
            <select  id="select-ville" style="height: 30px;width: 300px;font-size: 20px;font-family: 'Amiri', serif;background: hsl(205, 17%, 86%);border-radius: 25px;">
            </select>
   </div>
    </div>

   <div id="card" style="display: flex;justify-content: space-around;align-items: center;"> 
        <!-- sobh -->
    <div style="height: 30px;padding-top: 10%;padding-left: 10px;">
        <div class="card" style="width: 14rem;">
            <div class="card-title" style="background-color: rgb(97, 171, 231);height: 35px;">
                <h5 style="text-align: center;font-weight: 500;padding-top: 2%;" >الصبح</h5>
            </div>
            
            <div class="card-body">
              <p class="card-text">
                من طلوع الفجر الى ما قبل بزوغ الشمس فريضة الصبح هي ركعتان، يقرأ في كل ركعة بفاتحة وسورة </p>
              <a style="cursor:auto; display: flex;justify-content: center;align-items: center;" class="btn btn-primary ">
                <div id="sobh" style="font-size: 30px;">
                    4:22
                </div>
              </a>
            </div>
        </div>
    </div> 

    <!-- dohr -->

    <div style="height: 30px;padding-top: 10%;padding-left: 10px;">
        <div class="card" style="width: 14rem;">
            <div class="card-title" style="background-color: rgb(97, 171, 231);height: 35px;">
                <h5 style="text-align: center;font-weight: 500;padding-top: 2%;" >الظّهر</h5>
            </div>
            
            <div class="card-body">
              <p class="card-text">
            ثاني الصلوات الخمس المفروضة كل يوم وليلة. وهي صلاة سرية تتكون من أربع ركعات أيام   </p>
              <a style="cursor:auto; display: flex;justify-content: center;align-items: center;" class="btn btn-primary ">
                <div id="dohr" style="font-size: 30px;">
                    4:52
                </div>
              </a>
            </div>
        </div>
    </div> 

    <!-- "elasr" -->

    <div style="height: 30px;padding-top: 10%;padding-left: 10px;">
        <div class="card" style="width: 14rem;">
            <div class="card-title" style="background-color: rgb(97, 171, 231);height: 35px;">
                <h5 style="text-align: center;font-weight: 500;padding-top: 2%;" >العصر</h5>
            </div>
            
            <div class="card-body">
              <p class="card-text">
                هي الصلاة المفروضة الثالثة في اليوم وهي صلاة سرية كصلاة الظهر، وعدد ركعاتها أربع ركعات  
            </p>
              <a style="cursor:auto; display: flex;justify-content: center;align-items: center;" class="btn btn-primary ">
                <div id="asr" style="font-size: 30px;">
                    4:52
                </div>
              </a>
            </div>
        </div>
    </div> 

    <!-- elmoghreb -->

    <div style="height: 30px;padding-top: 10%;padding-left: 10px;">
        <div class="card" style="width: 14rem;">
            <div class="card-title" style="background-color: rgb(97, 171, 231);height: 35px;">
                <h5 style="text-align: center;font-weight: 500;padding-top: 2%;" >المغرب</h5>
            </div>
            
            <div class="card-body">
              <p class="card-text">
                أول صلاة مفروضة بالليل، والصلاة الرابعة في اليوم والليلة، وهي صلاة جهرية تتكون من ثلاث ركعات</p>
              <a style="cursor:auto; display: flex;justify-content: center;align-items: center;" class="btn btn-primary ">
                <div id="moghreb" style="font-size: 30px;">
                    4:52
                </div>
              </a>
            </div>
        </div>
    </div> 

    <!-- elichaa -->

    <div style="height: 30px;padding-top: 10%;padding-left: 10px;">
        <div class="card" style="width: 14rem;">
            <div class="card-title" style="background-color: rgb(97, 171, 231);height: 35px;">
                <h5 style="text-align: center;font-weight: 500;padding-top: 2%;" >العشاء</h5>
            </div>
            
            <div class="card-body">
              <p class="card-text">
                الصلاة الخامسة والأخيرة في اليوم وهي صلاة جهرية تتكون من أربع ركعات</p>
              <a style="cursor:auto; display: flex;justify-content: center;align-items: center;" class="btn btn-primary ">
                <div id="ishaa" style="font-size: 30px;">
                    4:52
                </div>
              </a>
            </div>
        </div>
    </div> 


   </div>

   <!-- choix du pays -->
   
 
    
</body>
<script src="node_modules/axios/dist/axios.min.js"></script>
<script >

    // let mois_arabes = ["مُحَرَّم","صَفَرٌ","رَبِيعٌ الأَوَّلُ","رَبِيعٌ الثَّانِي","جُمادى الأَُولى","جُمَادَى الثَّانِية",
    //                    "رَجَبٌ","شَعْبانُ","رَمَضانُ","شَوَّالٌ","ذُو القِعْدةِ","ذُو الحِجَّةِ"
    //                   ]

    let villes = [
      {
        villeAr : "الدار البيضاء",
        villefr : "CAS*"
      },
      {
        villeAr :"آسفي",
        villefr : "SAF*"
      },
      {
        villeAr : "مراكش",
        villefr : "MAR*"
      },
      {
        villeAr : "الجديدة",
        villefr : "JDI*"
      },
      {
        villeAr : "أكادير",
        villefr : "AGD*"
      },
      {
        villeAr : "طنجة",
        villefr : "Tanger-Assilah"
      },
      {
        villeAr : "وجدة",
        villefr : "OUJ*"
      },
      {
        villeAr : "زاكورة",
        villefr : "Zagora"
      },
      {
        villeAr : "كلميم",
        villefr : "GUE*"
      },
      {
        villeAr : "خريبكة",
        villefr : "KHO*"
      },
      {
        villeAr : "الرباط",
        villefr : "RAB*"
      },
    ]

    for(let ville of villes ){
      console.log(ville)
      document.getElementById("select-ville").innerHTML += `<option>${ville.villeAr}</option>`
    }

    document.getElementById("select-ville").addEventListener("change",function(){
      let ville_selected = document.getElementById("select-ville").value
      document.getElementById('villeNow').innerText = ville_selected
      const ville = villes.find(ville =>  {return ville.villeAr == ville_selected})
      console.log(ville.villefr)
      getTime(ville.villefr)
      // switch(ville_selected){
      //   case villes[0]:
      //     getTime("CAS*")
      //     break
      //   case villes[1]:
      //     getTime("SAF*")
      //     break
      //   case villes[2]:
      //     getTime("MAR*")
      //     break
      //   case villes[3]:
      //     getTime("JDI*")
      //     break
      //   case villes[4]:
      //     getTime("AGD*")
      //     break
      //   case villes[5]:
      //     getTime("Tanger-Assilah")
      //     break
      //   case villes[6]:
      //     getTime("OUJ*")
      //     break
      //   case villes[7]:
      //     getTime("Zagora")
      //     break;
      //   case villes[8]:
      //     getTime("GUE*")
      //     break
      //   case villes[9]:
      //     getTime("KHO*")
      //     break
      //   case villes[10]:
      //     getTime("RAB*")
      //     break
      // }
    })

    getTime("CAS*")

    function getTime(city){
      axios.get('http://api.aladhan.com/v1/timingsByCity',{
      params : {
          country : 'Ma',
              city : city 
        }
        }).then(function(response) {
        const times = response.data.data.timings

        const sobh_Time = times.Fajr
        document.getElementById("sobh").innerText = sobh_Time

        const dohr_Time = times.Dhuhr
        document.getElementById("dohr").innerText = dohr_Time

        const asr_Time = times.Asr
        document.getElementById("asr").innerText = asr_Time

        const maghrib_Time = times.Maghrib
        document.getElementById("moghreb").innerText = maghrib_Time

        const ishaa_Time = times.Isha
        document.getElementById("ishaa").innerText = ishaa_Time
        
        const jour = response.data.data.date.hijri.weekday.ar
        const numJ = response.data.data.date.hijri.day
        const moi = response.data.data.date.hijri.month.ar
        const anne = response.data.data.date.hijri.year

        const now = `${jour} ${numJ} ${moi} ${anne}	`
        document.getElementById('date').innerText = now
        console.log(now)
    })
    }

</script>

</html>